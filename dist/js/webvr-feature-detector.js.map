{"version":3,"sources":["node_modules\\browser-pack\\_prelude.js","src\\bundle.js"],"names":["win","getVer","str","result","verReg","exec","parseInt","load","batches","callback","progressFn","failFn","runScriptBatch","batchScript","i","length","scriptLength","scr","clear_","poly","self","results","name","s","document","createElement","type","charset","async","src","path","undefined","onreadystatechange","test","this","readyState","firstState","children","err_","e","srcElement","baseURI","onload","onerror","target","nodeType","head","insertBefore","firstChild","batchCount","getElementsByTagName","documentElement","batchLength","scriptCount","gScriptCount","scriptsToLoad","msg","removeChild","len","j","len2","reDetect","retests","tests","detect","deviceorientation","eventSupport_","devicemotion","alert","cs","ctx","glType","glVers","names","XMLHttpRequest","overrideMimeType","prototype","con","log","val","error","console","ua","navigator","userAgent","toLowerCase","verOffset","ver","RegExp","browser","opera","opr","addons","indexOf","firefox","netscape","InstallTrigger","style","safari","Object","toString","call","HTMLElement","ie","documentMode","chrome","webstore","match","edge","Geolocation","styleMedia","Promise","os","ios","android","chromeos","silk","sailfish","tizen","webos","windowsphone","blackberry","firefoxos","windows","mac","linux","platform","tablet","xbox","wii","nintendo","playstation","tv","mobile","desktop","canvas","CanvasRenderingContext2D","getComputedStyle","styles","pre","Array","slice","join","js","css","a","innerHTML","res","WebGLRenderingContext","substring","getContext","getParameter","VERSION","Worker","File","FileReader","FileList","Blob","mod","localStorage","setItem","removeItem","querySelectorAll","CustomEvent","elem","eventName","isSupported","setAttribute","removeAttribute","DocumentTouch","getGamepads","requestPointerLock","sendBeacon","compatMode","atob","querySelector","addEventListener","devicePixelRatio","XPCNativeWrapper","URL","globalStorage","postMessage","mozRequestAnimationFrame","createdElement","MozAnimation","textOverflow","insertAdjacentHTML","doNotTrack","mozIndexedDB","mozFullScreenEnabled","mozCancelAnimationFrame","Reflect","MozTextAlignLast","MozOpacity","borderImage","animation","iterator","Math","hypot","EventSource","ArrayBuffer","createObjectURL","matchMedia","webkitAudioContext","crypto","getRandomValues","webkitSpeechRecognition","registerProtocolHandler","scrollIntoViewIfNeeded","webkitRequestFullScreen","MutationObserver","performance","now","Intl","implementation","hasFeature","mark","version","JSON","geolocation","vibrate","webkitRTCPeerConnection","matches","closest","WebVRFeatureDetector","window"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*\n * Device and feature detector for WebVR projects needing to provide\n * graceful decay for old and obsolete browsers.\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n(function (win) {\n  var self = this; // Scope.\n  var cs, ctx, glType = '', glVers = '', tests = [], retests = {}; self.results = {};\n\n  var names = ['webgl', 'experimental-webgl', 'moz-webgl', 'experimental-webgl2', '3d'];\n\n  /*\n   * Patches and fixes.\n   *\n   * This hack lets IE10 render to canvas with newer versions of\n   * of THREE.js (which use overrideMimeType in the Object loader).\n   */\n  if(win.XMLHttpRequest && !XMLHttpRequest.overrideMimeType) {\n    XMLHttpRequest.prototype.overrideMimeType = function (type) {};\n  }\n\n  /* \n   * Remove errors for console.log or console.error executing on ancient browsers.\n   * Add 'alert' if debugging is desired.\n   */\n  (function (con) {\n    if (!con.log) con.log = function (val) {}; // debug with alert(val)\n    if (!con.error) con.error = function (val) {}; // debug with alert(val)\n  })(win.console = win.console || {});\n\n  /* \n   * feature detect browsers, modified from: \n   * @link https://jsfiddle.net/9atsffau/\n   * @link http://www.opentechguides.com/how-to/article/javascript/99/browser-detect.html\n   */\n  var ua = navigator.userAgent.toLowerCase(), verOffset = -1, ver = false, verReg = new RegExp('[0-9]+');\n\n  var browser = {\n    opera: (!!win.opr && !!opr.addons) || !!win.opera || ua.indexOf(' opr/') > -1 || ua.indexOf('opios') > -1 || false,\n    // Firefox 1.0+\n    firefox: !!win.netscape || typeof InstallTrigger !== 'undefined' || 'MozAppearance' in document.documentElement.style,\n    // At least Safari 3+: \"[object HTMLElementConstructor]\"\n    safari: Object.prototype.toString.call(win.HTMLElement).indexOf('Constructor') > 0,\n    // Internet Explorer 6-11\n    ie: /*@cc_on!@*/false || !!document.documentMode,\n    // Chrome 1+\n    chrome: !!win.chrome && !!win.chrome.webstore || ua.match('crios') || false\n  };\n  // Blink engine detection\n  //blink: (isChrome || isOpera) && !!win.CSS\n  browser.edge = !browser.ie && !!win.Geolocation || !browser.chrome && !browser.firefox && !browser.opera && !!win.styleMedia && !!win.Promise;\n\n  /* \n   * Look for the browser version number in a user-agent string. \n   * Fallback when browser feature detection doesn't work.\n   */\n  function getVer (str) {\n    var result = verReg.exec(str);\n    if (result && result[0]) {\n      return parseInt(result[0]);\n    }\n    return false;\n  }\n\n  /* \n   * Operating systems. These generally can't be feature-detected, se \n   * we use the user-agent. Needed for browser determinations later, \n   * so done before our detect.\n   * Adapted from:\n   * https://github.com/ded/bowser/blob/master/src/bowser.js#L29\n   */\n  var os = {\n      ios: ua.match(/(ipod|iphone|ipad)/) || false,\n      android: ua.indexOf('android') > -1 || false,\n      chromeos: ua.indexOf('cros') > -1 || false,\n      silk: ua.indexOf('silk') > -1 || false,\n      sailfish: ua.indexOf('sailfish') > -1 || false, // linux mobile os with webgl\n      tizen: ua.indexOf('tizen') > -1 || false,\n      webos: /(web|hpw)os/i.test(ua) || false,\n      windowsphone: ua.indexOf('windows phone') > -1 || false,\n      blackberry: /(blackberry|bb10|rim[0-9])/.test(ua),\n      firefoxos: /mobile.*(firefox)/i.test(ua) || false\n   };\n  os.windows = !os.windowsphone && ua.indexOf('windows') > -1,\n  os.mac = !os.ios && !os.silk && ua.indexOf('macintosh') > -1,\n  os.linux = !os.android && !os.sailfish && !os.tizen && !os.webos && ua.indexOf('linux') > -1;\n\n  var platform = {\n    tablet: ua.indexOf('tablet') > -1,\n    xbox: ua.indexOf('xbox') > -1, \n    wii: ua.indexOf('wiiu') > -1,\n    nintendo: ua.indexOf('nintendo') > -1,\n    playstation: ua.indexOf('playstation') > -1,\n  };\n\n  platform.console = platform.xbox || platform.wii || platform.playstation || false,\n  platform.tv = /(google|apple|smart|hbb|opera|pov|net).*tv|(lg|aquos|inettv).*browser|(roku|kylo|aquos|viera|espial|boxee|dlnadoc|crkey|ce-html)/.test(ua) || false,\n  platform.mobile = !platform.tablet && !platform.tv && (os.ios || os.android || os.silk || os.sailfish || os.tizen || os.webos || /[^-]mobi/i.test(ua)) > -1 || false,\n  platform.desktop = !platform.mobile && !platform.tablet && !platform.console && !platform.tv;\n\n  // Test for features here that other feature tests depend on, to ensure they work.\n  var createElement = !!document.createElement;\n  var canvas = !!win.CanvasRenderingContext2D;\n\n  /*\n   * Environment Feature detection.\n   * \n   * The goal is to determine whether we can run WebVR (native or polyfill), \n   * along with the associated libraries, loading polyfills if necessary.\n   *\n   * Our feature detectors are wrapped in named functions so they\n   * can be re-tested after loading polyfills.\n   *\n   * Client vendor prefixes.\n   * @link https://davidwalsh.name/vendor-prefix\n   */\n  tests['vendorPrefix'] = function () {\n    // Get the vendor prefix for the client.\n    if (!win.getComputedStyle) {\n      return {\n        js: '',\n        css: ''\n      };\n    } else {\n    var styles = win.getComputedStyle(document.documentElement, ''),\n    pre = (Array.prototype.slice\n        .call(styles)\n        .join('')\n        .match(/-(moz|webkit|ms|o|xv)-/) || ['',''])[1]; // Default to nothing.\n      return {\n          js: pre,\n          css: '-' + pre + '-'\n        };\n    }\n  };\n\n  /*\n   * Test for document.createElement presence,\n   * missing in IE < 7, FF < 2.\n   */\n  tests['createElement'] = function () {\n    return !!document.createElement;\n  };\n\n  /*\n   * Test for basic HTML5 tag support.\n   * Adapted from HTML5Shiv\n   * @link https://github.com/aFarkas/html5shiv/blob/master/dist/html5shiv.js\n   */\n  tests['html5'] = function () {\n    if(tests['createElement']()) {\n      var a = document.createElement('a');\n      a.innerHTML = '<xyz></xyz>';\n      //if the hidden property is implemented we can assume, that the browser supports basic HTML5 Styles\n      var res = ('hidden' in a);\n      a = a.innerHTML = null;\n      return res;\n    }\n    return false;\n  };\n\n  /*\n   * Test for HTML5 canvas.\n   * Note: No compatible polyfill (Flash-based ones won't work for WebVR).\n   */\n  tests['canvas'] = function () {\n    return canvas;\n    //return !!win.CanvasRenderingContext2D;\n  };\n\n  /*\n   * Test for WebGL support in browsers supporting HTML5 canvas.\n   * IE 9, 10 Polyfill available (non-Flash).\n   * @link https://github.com/iewebgl/iewebgl\n   */\n  tests['webGL'] = function () {\n    if (canvas && document.createElement) {\n\n      if (!win.WebGLRenderingContext) {\n        return false;\n      }\n      //Flag for Google Chrome 9, which crashes if you try to access a 3d context.\n      if (browser.chrome && getVer(ua.substring(verOffset+7)) < 18) {\n        return false;\n      }\n      cs = document.createElement('canvas');\n      for (i in names) {\n        try {\n          ctx = cs.getContext(names[i]);\n          if (ctx && typeof ctx.getParameter == 'function') {\n            glType = names[i];\n            glVers = ctx.getParameter(ctx.VERSION).toLowerCase();\n            cs = ctx = null;\n            return true;\n          }\n        } catch (e) {}\n      }\n    }\n    cs = ctx = null;\n    return false;\n  };\n\n  /* \n   * Return type of WebGL context (e.g. 'experimental') from WebGL detect.\n   */\n  tests['glType'] = function () {\n    return glType;\n  };\n\n  /* \n   * Return version of WebGL context from WebGL detect.\n   */\n  tests['glVersion'] = function () {\n    return glVers;\n  };\n\n  /*\n   * Detect Promise object support, missing in\n   * all IE, Chrome < 33, FF < 29, Safari < 7.1,\n   * iOS < 8, Android < 4.4.4.\n   */\n  tests['promise'] = function () {\n    return ('Promise' in win);\n  };\n\n  /*\n   * Detect support for WebWorkers, used in many 3D libraries, missing in\n   * IE < 11, FF < 3.5, Safari < 4, iOS < 5.1, Android < 4.4.\n   */\n  tests['workers'] = function () {\n    return !!win.Worker;\n  };\n\n  /*\n   * Detect FileAPI support, may be usefulf or object\n   * management in VR spaces, missing in\n   * IE < 10, Chrome < 38, FF < 28, Safari < 5.1, iOS < 6,\n   * Android < 3\n   */\n  tests['fileapi'] = function () {\n    return !!(win.File && win.FileReader && win.FileList && win.Blob);\n  };\n\n  /*\n  * Detect localStorage support, may be useful for object\n  * management in VR spaces, not supported in\n  * IE < 8, FF < 3.5, Safari < 4.\n  */\n  tests['localStorage'] = function () {\n    var mod = 'test';\n      try {\n           localStorage.setItem(mod, mod);\n           localStorage.removeItem(mod);\n           return true;\n       } catch(e) {\n           return false;\n       }\n   };\n\n   /*\n    * Detect fetch (alternative to XHR) API support, better for\n    * dynamic object requests than Ajax, missing in\n    * All IE, Edge < 14, Chrome < 42, FF < 39, All Safari,\n    * Android < 5.6.\n    */\n  tests['fetch'] = function () {\n    return ('fetch' in win);\n  };\n\n  /*\n   * Detect support for .querySelectorAll, missing in\n   * IE < 9, FF < 3.5\n   */\n  tests['querySelectorAll'] = function () {\n    return !!document.querySelectorAll;\n  };\n\n  /*\n   * Detect support for addEventListener, missing in\n   * IE < 9.\n   */\n  tests['addEventListener'] = function () {\n    return ('addEventListener' in win);\n  };\n\n  /*\n   * Detect support for CustomEvents, missing in\n   * IE 9, 10, 11, Android < 4.4\n   */\n  tests['CustomEvent'] = function () {\n    try {\n      new CustomEvent('test');\n    } catch(e) {\n      return false;\n    }\n    return true;\n  };\n\n  /*\n   * Detect support for a specific event type.\n   * @link http://perfectionkills.com/detecting-event-support-without-browser-sniffing/\n   */\n  var eventSupport_ = function(elem, eventName) {\n    eventName = 'on' + eventName;\n    var isSupported = (eventName in elem);\n    if (!isSupported && 'setAttribute' in elem) {\n      elem.setAttribute(eventName, 'return;');\n      isSupported = typeof elem[eventName] == 'function';\n      elem.removeAttribute(eventName);\n    }\n    return isSupported;\n  };\n\n  /*\n   * Support for ES5 properties, missing in\n   * IE < 9, Chrome < 23, FF < 21, Safari < 6,\n   * Android < 4.4\n   */\n  tests['defineProperty'] = function () {\n    return ('defineProperty' in Object);\n  };\n\n  tests['defineProperties'] = function () {\n    return ('defineProperties' in Object);\n  };\n\n  /*\n   * Detect typed arrays (needed for WebGL), missing in\n   * IE < 11, Chrome < 7, FF < 4, Safari < 6,\n   * Android < 4.\n   */\n  tests['typedArray'] = function () {\n    return ('ArrayBuffer' in win);\n  };\n\n  /*\n   * Detect support for W3C Fullscreen API. No browser completely\n   * and consistently supports the W3C standard. Partial support\n   * in IE Edge, Chrome > 14, FF > 9, Safari > 5. NO SUPPORT in\n   * Android and iOS Safari browser.\n   *\n   */\n  tests['fullScreen'] = function () {\n    return !!(document.documentElement.requestFullscreen);\n  };\n\n  /*\n   * Detect touch support.\n   * useful for changing the Ui if touch is used, missing in\n   * IE, Edge, Chrome < 22, FF, Safari. Full support in iOS\n   * Safari and Android.\n   */\n  tests['touch'] = function () {\n    return !!(('ontouchstart' in win) || (win.DocumentTouch && document instanceof DocumentTouch));\n  };\n\n  /*\n   * Detect native support for requestAnimationFrame, missing in\n   * IE < 11, Chrome < 10, FF < 4, Safari < 6, Android < 4.4\n   */\n  tests['requestAnimationFrame'] = function () {\n    return ('requestAnimationFrame' in win);\n  };\n\n  /*\n   * Gamepad API, used by haptic controllers.\n   * No IE Support, Chrome < 21, FF < 29, no iOS or\n   * Android support. Wii has its own non-W3C version,\n   * win.wiiu.gamepad\n   */\n  tests['gamepad'] = function () {\n    return !!navigator.getGamepads;\n  };\n\n  /*\n   * Test for WebVR API.\n   * @link https://iswebvrready.org/\n   */\n  tests['webvr'] = function () {\n    if ('getVRDisplays' in navigator) {\n      ;\n      return true;\n    } else if ('getVRDevices' in navigator || 'mozGetVRDevices' in navigator) {\n      ;\n      return false;\n    }\n    else {\n      return false;\n    }\n  };\n\n  /* \n   * Test for browser, os, platform\n   */\n  tests['mobile'] = function () {\n    return (platform.mobile || platform.tablet);\n  };\n\n  tests['browser'] = function () {\n    return browser;\n  };\n\n  tests['os'] = function () {\n    return os;\n  };\n\n  tests['platform'] = function () {\n    return platform;\n  }\n\n  /* \n   * Test for Edge versions. All work with WeGL, \n   * THREE v77 and WebVR-polyfill\n   */\n    if (browser.edge)  {\n      browser.edge = (function () {\n        if (!document.documentElement.requestPointerLock) {\n          return 12;\n        } else if (!navigator.sendBeacon) {\n          return 13;\n        }\n        // Fallback for new browsers with undefined feature-testing\n        verOffset = ua.indexOf('edge/')\n        if (verOffset !== -1) {\n          return getVer(ua.substring(verOffset+8));\n        }\n        return false;\n      })();\n    }\n\n  /*\n   * Test for IE versions. UA string is so abused that \n   * we test features to confirm.\n   * IE10 : CanvasRenderer\n   * IE11+: WebGL\n   * @link http://tanalin.com/en/articles/ie-version-js/\n   * @link https://codepen.io/gapcode/pen/vEJNZN\n   * @returns if IE or Edge, the version number, else false.\n   */\n  if (browser.ie) {\n    browser.ie = (function () {\n      if (document.compatMode && !win.atob) {\n      if (!win.XMLHttpRequest) { //ie7 test, only works in 'real' IE6\n        return 6;\n      } else if (!document.querySelector) {\n        return 7;\n      } else if (!document.addEventListener) {\n        return 8;\n      } else {\n        return 9;\n      }\n    } else {\n      if(!win.Promise && win.atob) {\n        if (!(win.ActiveXObject) && \"ActiveXObject\" in win) {\n          return 11; // Supports THREE WebGL\n        } else {\n          return 10; // Supports THREE CanvasRenderer\n        }\n      }\n      return 5;\n    }\n    return false;\n    })();\n  }\n\n  /** \n   * Test for firefox. To handle Gecko clones, we feature-detect old browsers, and \n   * use the user-agent for newer ones able to run THREE.\n   * Compatible:\n   * FF 15+ : CanvasRenderer\n   * @link http://browserhacks.com/\n   * @link https://davidwalsh.name/check-parent-node\n   * @link http://stackoverflow.com/questions/7000190/detect-all-firefox-versions-in-js\n   */\n  if (browser.firefox) {\n    browser.firefox = (function () {\n    // Feature test old browsers that can't run THREE\n    if (typeof win.devicePixelRatio === undefined) {\n      try {\n        if (win.alert && !win.XPCNativeWrapper && !win.URL) {\n            return 1;\n        } else if(win.XPCNativeWrapper) {\n            return 1.5\n        } else if (win.globalStorage && !win.postMessage) {\n            return 2;\n        } else if (!document.querySelector) {\n            return 3;\n        } else if (!win.mozRequestAnimationFrame) {\n            return 3.5;\n        } else if (win.URL && !createdElement.style.MozAnimation) {\n            return 4; // WebGL available.\n        } else if (!typeof WeakMap) {\n            return 5; // WebGL available CORS textures disabled.\n        } else if (!createdElement.style.textOverflow) {\n            return 6;\n        } else if (!createdElement.insertAdjacentHTML) {\n            return 7;\n        } else if (!navigator.doNotTrack) {\n            return 8; // CORS re-enabled for WebGL textures.\n        } else if (win.mozIndexedDB &&\n            !document.mozFullScreenEnabled) {\n            return 9;\n        } else if (\n            !win.mozCancelAnimationFrame && !Reflect === undefined) {\n            return 10;\n        } else if (!createdElement.style.MozTextAlignLast) {\n            return 11;\n        } else if (!createdElement.style.MozOpacity) {\n            return 12;\n        } else if (!createdElement.style.MozOpacity &&\n            win.globalStorage) {\n            return 13;\n        } else if (!win.globalStorage && !createdElement.style.borderImage) {\n            return 14;\n        } else if (!createdElement.style.animation) {\n            return 15; // First version that works with CanvasRenderer\n        } else if (\n            !createdElement.style.iterator && !Math.hypot) {\n            return 16;\n        } else {\n            return 17; // last version with device.pixelRatio\n        }\n      } catch (e) {\n        ;\n      } // end of try...catch\n    } // end of device.pixelRatio test\n    // fallback for new browsers, and old browsers with console.config features disabled\n    verOffset = ua.indexOf('firefox');\n    if (verOffset !== -1) {\n      return getVer(navigator.userAgent.substring(verOffset+8));\n    }\n    return false;\n    })();\n  }\n\n  /* \n   * Feature test for chrome. We feature-detect out non-chrome browsers, \n   * then do some feature-testing for individual versions of chrome. Otherwise, \n   * trust the user agent string.\n   * Compatible:\n   * Chrome 24+ : CanvasRenderer\n   * @link http://browsershots.org/\n   * @link http://oldversion.com\n   * @link http://browserstack.com\n   * @link http://stackoverflow.com/questions/4565112/javascript-how-to-find-out-if-the-user-browser-is-chrome\n   */\n  if (browser.chrome) {\n    browser.chrome = (function () {\n      // get a version from the user-agent first, since some versions, don't have differentiating features.\n      verOffset = ua.indexOf('chrome/');\n      if (verOffset !== -1) {\n        ver = getVer(ua.substring(verOffset+7));\n      }\n      // feature-test Chrome candidate, fallback to user-agent if fails\n      try {\n        if (!('onhashchange' in win)) {\n            return 4;\n        } else if (win.EventSource === undefined) { //server-sent events undefined\n            return 5;\n        } else if (!win.ArrayBuffer) { //typed arrays undefined\n            return 6;\n        } else if (win.URL && \n          !win.URL.createObjectURL) { // .createObjectURL undefined\n            return 7;\n        } else if (!win.matchMedia) { // .matchMedia undefined\n            return 8;\n        } else if (!win.webkitAudioContext) { // html5 audio undefined\n            return 9; //Note: CRASHES if trying to get WebGL context!\n        } else if (win.crypto && !win.crypto.getRandomValues) { // crypto undefined\n            return 10;\n        } else if (!win.webkitSpeechRecognition) {\n            return 11;\n        } \n        /*\n        else if (win.webkitAudioContext) {\n          var a = document.createElement('audio');\n          var playMsg = a.canPlayType('audio/mpeg');\n          if (playMsg == '') {\n            a = null;\n            return 11;\n          }\n          a = null;\n        }\n        */\n        else if (!navigator.registerProtocolHandler) { //customEvent enabled in Chrome 9-12\n            return 12;\n        } else if (!win.CustomEvent && \n            typeof document['hidden'] === undefined) { // Page visibility enabled in 14\n            return 13;\n        } else if(!win.CustomEvent && \n          !document.documentElement.scrollIntoViewIfNeeded) { //scrollIntoView enabled in 15\n            return 14;\n        } else if (document.documentElement.webkitRequestFullScreen && \n          !win.CustomEvent) { //CustomEvent re-enabled in 15\n            return 15;\n        } else if (ver === 16) { //No undefined test, WebSockets goes from partial to full\n            return 16;\n        } else if (!win.MutationObserver) { //MutationObserver undefined\n            return 17;\n        } else if (win.MutationObserver && \n          !(win.performance && win.performance.now)) { //No undefined test, MutationObserver enabled\n            return 18; // First version with valid WebGL\n        } else if (!(win.performance && win.performance.now)) { //High-Resolution timeAPI disabled\n            return 19;\n        } else if (!navigator.getGamepads) { //, no gamePads, High-Resolution time API enabled\n            return 20;\n        } else if (!document.documentElement.requestPointerLock) { //no pointerLock, GamePad API enabled\n            return 21;\n        } else if (!win.Intl && \n          document.documentElement.requestPointerLock) { //no undefined test, PointerLock API enabled\n            return 22;\n        } else if (!win.Intl && \n          document.implementation.hasFeature('org.w3c.dom.mathml', '2.0') === false) { //intl enabled, Media Source extensions disabled\n            return 23;\n        } else if (!win.performance.mark) { //Media source entensions enabled\n            return 24;\n        }\n      } catch (e) {\n        \n      }\n\n      // If we didn't feature detect, return guess based on user-agent\n      return ver;\n\n    return false; // not Chrome\n    })();\n  }\n\n\n  /* \n   * Test for Opera versions (webkit) that work with WebGL\n   */\n  if (browser.opera) {\n    browser.opera = (function() {\n    // detect version in old and new versions\n     verOffset = ua.indexOf('opr/');\n      if (verOffset !== -1) {\n        ver = getVer(ua.substring(verOffset+4));\n      } else {\n        if (win.opera && win.opera.version) { // ask old Opera its version\n          return parseInt(win.opera.version());\n        }\n        verOffset = ua.indexOf('opera/'); // fallback to ua-sniffing\n        if(verOffset !== -1) {\n          ver = getVer(ua.substring(verOffset+6));\n        }\n      }\n    // Feature-detect\n    try {\n      if (!win.JSON) {\n          return 10;\n      } else if (!win.ArrayBuffer) { //typed arrays undefined\n          return 11;\n      } else if (!win.MutationObserver) { //MutationObserver undefined\n          return 12;\n      } else if (!navigator.geolocation) { // Enabled in 11-12, disabled 15, re-enabled 16\n          return 15;\n      } else if (!win.navigator.vibrate) {\n          return 16;\n      } else if (!win.webkitRTCPeerConnection) {\n          return 17;\n      } else if (!win.CustomEvent && !win.Promise) {\n        return 18;\n      } else if (!win.CustomEvent) {\n        return 19;\n      } else if (!document.documentElement.matches) {\n        return 20; // webkitmatches only\n      } else if (ver === 21) {\n        return 21;\n      } else if (ver === 22) {\n        return 22;\n      } else if (!navigator.getGamepads) {\n        return 23;\n      }\n    } catch (e) {\n      ;\n    }\n\n    if (ver !== -1) {\n      return ver;\n    }\n    return false;\n    })();\n  }\n\n  /* \n   * Test for Apple Safari, esp. mobile iOS versions. \n   * VASTLY more accurate than trying to sniff webkit version \n   * in the user-agent.\n   */\n  if (browser.safari) {\n    browser.safari = (function () {\n    if (!browser.safari) return false;\n    try {\n      if (!document.documentElement.insertAdjacentHTML) {\n        return 3;\n      } else if (!navigator.geolocation) {\n        return 4;\n      } else if (!win.ArrayBuffer) {\n        alert('NO WIN ARRAYBUFFER')\n        return 5;\n      } else if (typeof document['hidden'] === undefined) {\n        return 6;\n      } else if (!win.crypto) {\n        return 7;\n      } else if (!document.documentElement.closest) {\n        return 8;\n      }\n    } catch (e) {\n      ;\n    }\n     verOffset = ua.indexOf('safari/');\n      if (verOffset !== -1) {\n        return getVer(ua.substring(verOffset+7));\n     }\n     return false;\n  })();\n}\n\n  /*\n   * Microloader. Store polyfills to load. Deliberately old-school for maximum browser support.\n   * @link https://css-tricks.com/snippets/javascript/async-script-loader-with-callback/\n   * @link https://www.nczonline.net/blog/2009/07/28/the-best-way-to-load-external-javascript/\n  */\n  function load (batches, callback, progressFn, failFn) {\n    var head = document.getElementsByTagName('head')[0] || document.documentElement,\n    batchLength = 0,\n    batchCount = 0,\n    scriptLength = 0,\n    scriptCount = 0,\n    gScriptCount = 0,\n    scriptsToLoad = 0;\n\n    var err_ = function (s, msg) {\n      ;\n      ;\n      if (s && s.nodeType) {\n        try {\n          head.removeChild(s);\n        } catch (e) {};\n      }\n      if(failFn) {\n        failFn('error at script #:', batchCount, scriptCount, s);\n        s = null;\n      }\n    };\n\n    var clear_ = function (s) {\n      //clear the event and prevent memory leaks\n      \n      // Progress report.\n\n      if (s) {\n        gScriptCount++;\n        progressFn(parseInt(100 * gScriptCount / scriptsToLoad), s.src);\n        \n        //try {\n        //  head.removeChild(s);\n        //} catch (e) {};\n\n        s.onreadystatechange = s.onload = null;\n        s = null;\n      }\n      // Increment script and possibly batch.\n      scriptCount++;\n      if (scriptCount >= scriptLength) {\n        scriptCount = 0; batchCount++;\n        if (batchCount < batchLength) {\n          runScriptBatch(batches[batchCount])\n        } else {\n          \n          callback();\n        }\n      }\n    };\n\n    function runScriptBatch (batchScript) {\n      \n      for (var i = 0; i < batchScript.length; i++) {\n        scriptLength = batchScript.length; //NOTE: if done outside for (), incorrect value in old IE.\n        var scr = batchScript[i];\n        if (!scr) {\n          clear_(); //empty script\n          break;\n        }\n        // If we don't need the polyfill, don't load it\n        if (scr.poly === true && self.results[scr.name] === true) {\n          ;\n          clear_();\n        } else {\n          \n          //scr.script = document.createElement('script');\n          var s = document.createElement('script'); //scr.script;\n          s.type = 'text\\/javascript';\n          s.charset = 'utf8';\n          s.async = true;\n          s.src = scr.path;\n          // Old IE version.\n          if (s.onreadystatechange !== undefined) {\n            s.onreadystatechange = function () {\n              \n              \n              if (/loaded|complete/.test(this.readyState)) {\n                  ;\n                  //head.insertBefore(s, head.firstChild);\n                  this.onreadystatechange = null;\n                  \n                  clear_(this);\n\n                // IE hack to stop loading\n                var firstState = this.readyState;\n                this.children;\n                if (firstState == 'loaded' && this.readyState == 'loading') {\n                  err_(this, 'error in readyState load for:' + e.srcElement.baseURI);\n                  this.onreadystatechange = null;\n                  clear_(this);\n                  return;\n                }\n              } //loaded or complete\n            }\n          } else if (s.onload !== undefined) {\n            s.onload = function (e) {\n              ;\n              \n              clear_(this);\n              return;\n            }\n            s.onerror = function (e) {\n              err_(e.target, 'error in onload for:' + e.target);\n            }\n          } else {\n            err_(s,'script loading not supported for:' + scr.path, ' type:' + typeof s + ' nodeType:' + typeof s.nodeType);\n          }\n\n          head.insertBefore(s, head.firstChild);\n        } //end of batch[i].name test\n      } // end of for () loop\n      //We only go here if there's an empty batch!\n      if(batchScript.length == 0) {\n        failFn('Loader: empty batch [] at index:', batchCount, 0, 0, 'undefined');\n      }\n    }; // end of function\n\n    // Main program. Count scripts to load.\n    ;\n\n    // Scripts is an array of arrays\n    for (var i = 0, len = batches.length; i < len; i++) {\n      for (var j = 0, len2 = batches[i].length; j < len2; j++) {\n        var scr = batches[i][j];\n        if (!scr) {\n          failFn('Loader: missing object (probably trailing comma) for batch index:', i, j, scr);\n          //return false;\n        } else {\n\n        // Make sure the necessary data is present.\n        if (!scr.name || !scr.path || scr.poly === undefined) {\n            if (scr.name) {\n              scr = scr.name;\n            }\n            failFn('Loader: incorrect batch syntax for batch index:', i, j, scr);\n            return false;\n          }\n        if (scr.poly === true) {\n          if (!self.results[scr.name]) {\n            scriptsToLoad++;\n          }\n        } else {\n          scriptsToLoad++;\n        }\n      }\n      }\n    }\n\n    // Set starting length of batches.\n    batchLength = batches.length;\n    // Load scripts\n    runScriptBatch(batches[batchCount]);\n  }; // End of microloader.\n\n  // Redetect after loading complete\n  function reDetect () {\n    for (var i in retests) {\n      ;\n      if (self.results[i] === undefined) {\n        ;\n      } else if (!self.results[i]) {\n        ;\n        self.results[i] = tests[i]();\n        if (self.results[i]) {\n          ;\n        } else {\n          ;\n        }\n      }\n    }\n  };\n\n  // Detect features. Export so we can re-detect after polyfills are loaded.\n  // tests used by other tests can be pre-computed.\n  function detect() {\n    self.results = {\n      deviceorientation: eventSupport_(win, 'deviceorientation'),\n      devicemotion: eventSupport_(win, 'devicemotion'),\n      load: load,\n      detect: detect,\n      reDetect: reDetect\n    };\n    for (var i in tests) {\n      if (typeof(tests[i]) === 'function') { // this allows us to pre-compute some results.\n        /////////////alert(\"test:\" + i)\n        self.results[i] = tests[i]();\n        ////////////alert(\"test result:\" + self.results[i])\n      } else {\n        alert(\"prebuilt result:\" + tests[i])\n        ////////////self.results[i] = tests[i];\n      }\n    };\n    return self.results;\n  }\n\n  // Fire first detection and report results.\n  win.WebVRFeatureDetector = detect();\n\n})(window);\n"]}